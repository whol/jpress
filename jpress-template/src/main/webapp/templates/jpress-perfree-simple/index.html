#include("./_inc/_layout.html")
#@layout()
#define content()
    <div class="layui-col-xs12 layui-col-sm7 layui-col-md8 perfree-content-left">
        <div class="article-box">
            #if(option('notice_content') != null)
                <div class="layui-card list-article-box">
                    <div class="layui-card-body" style="padding:10px 20px 10px 20px;">
                        <i class="fa fa-bullhorn fa-lg"></i>
                        <span class="notice" style="font-size: 1.1em;margin-left: 5px;">#option('notice_content')</span>
                    </div>
                </div>
            #end
            <!-- 置顶文章start -->
            #articles(flag="top")
                #for(article : articles)
                <div class="layui-card list-article-box">
                    <div class="layui-card-body">
                        #if(option('page_article_thumbnail') == null || option('page_article_thumbnail') == '手动上传缩略图')
                            #if(article.thumbnail != null)
                            <a class="article-img pjax" href="#(article.url ??)">
                                <img src="#(article.thumbnail ??)" alt="#(article.title ??)" width="100%" height="300px"/>
                            </a>
                            #end
                        #else
                            #if(article.showImage != null)
                            <a class="article-img pjax" href="#(article.url ??)">
                                <img src="#(article.showImage ??)" alt="#(article.title ??)" width="100%" height="300px"/>
                            </a>
                            #end
                        #end
                        <div class="article-box-content">
                            <h2 class="article-title">
                                <span class="top-tip">置顶</span><a href="#(article.url ??)" class="pjax">#(article.title ??)</a>
                            </h2>
                            <p class="article-content">#maxLength(article.text,100)</p>
                            <hr class="layui-bg-gray">
                            <span class="article-msg">
                                                    <i class="fa fa-user-o"></i> #(article.user.nickname ??)&nbsp;
                                                    <i class="fa fa-eye"></i> #(article.view_count ??)&nbsp;
                                                    <i class="fa fa-comment-o"></i> #(article.comment_count ??)&nbsp;
                                                    <i class="fa fa-clock-o"></i> #date(article.created, "yyyy-MM-dd")
                                                </span>
                            <a class="read-all-btn pjax" href="#(article.url ??)">阅读全文</a>
                        </div>
                    </div>
                </div>
                #end
            #end
            <!-- 置顶文章end -->
            #articlePage(pageSize=6)
                <!-- 文章列表start -->
                #for(article : articlePage.list)
                    <div class="layui-card list-article-box">
                        <div class="layui-card-body">
                            #if(option('page_article_thumbnail') == null || option('page_article_thumbnail') == '手动上传缩略图')
                                #if(article.thumbnail != null)
                                    <a class="article-img pjax" href="#(article.url ??)">
                                        <img src="#(article.thumbnail ??)" alt="#(article.title ??)" width="100%" height="300px"/>
                                    </a>
                                #end
                            #else
                                #if(article.showImage != null)
                                    <a class="article-img pjax" href="#(article.url ??)">
                                        <img src="#(article.showImage ??)" alt="#(article.title ??)" width="100%" height="300px"/>
                                    </a>
                                #end
                            #end
                            <div class="article-box-content">
                                <h2 class="article-title">
                                    <a href="#(article.url ??)" class="pjax">#(article.title ??)</a>
                                </h2>
                                <p class="article-content">#maxLength(article.text,100)</p>
                                <hr class="layui-bg-gray">
                                <span class="article-msg">
                                    <i class="fa fa-user-o"></i> #(article.user.nickname ??)&nbsp;
                                    <i class="fa fa-eye"></i> #(article.view_count ??)&nbsp;
                                    <i class="fa fa-comment-o"></i> #(article.comment_count ??)&nbsp;
                                    <i class="fa fa-clock-o"></i> #date(article.created, "yyyy-MM-dd")
                                </span>
                                <a class="read-all-btn pjax" href="#(article.url ??)">阅读全文</a>
                            </div>
                        </div>
                    </div>
                #else
                    <div class="layui-card">
                        <div class="layui-card-body">
                            <div class="no-article">
                                <i class="fa fa-bug" aria-hidden="true"></i> 这家伙很懒，还没发表文章~
                            </div>
                        </div>
                    </div>
                #end
                <!-- 文章列表end -->
                <div class="layui-card">
                    <div class="layui-card-body">
                        #articlePaginate(firstGotoIndex=true)
                            <div class="perfree-page-box">
                                #for(page : pages)
                                    <a class="page-item #(page.style) pjax" href="#(page.url ??)">#(page.text ??)</a>
                                #end
                            </div>
                        #end
                    </div>
                </div>
            #end
        </div>
    </div>
#end